{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/workspace_front/tavern/pages/planeGame/planeGame.vue?e584","webpack:///E:/workspace_front/tavern/pages/planeGame/planeGame.vue?27c4","webpack:///E:/workspace_front/tavern/pages/planeGame/planeGame.vue?d258","uni-app:///pages/planeGame/planeGame.vue","webpack:///E:/workspace_front/tavern/pages/planeGame/planeGame.vue?f634","webpack:///E:/workspace_front/tavern/pages/planeGame/planeGame.vue?0256"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/planeGame/planeGame.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/planeGame/planeGame.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./planeGame.vue?vue&type=template&id=5e92eea4&\"\nvar renderjs\nimport script from \"./planeGame.vue?vue&type=script&lang=js&\"\nexport * from \"./planeGame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./planeGame.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/planeGame/planeGame.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./planeGame.vue?vue&type=template&id=5e92eea4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./planeGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./planeGame.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\r\n\t\t<view class=\"chooseBox\" v-show=\"showFlg==0\">\r\n\t\t\t<view class=\"chooseBtn\" v-for=\"item in levelAry\" :key=\"item.id\"\r\n\t\t\t\t@click=\"setDifficulty(item.bulletSpeed,item.planeSpeed)\">{{item.title}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"game-box\" v-show=\"showFlg==1\">\r\n\t\t\t<!-- <view class=\"scoreBoard\">{{score}}</view>\r\n\t\t<image v-show=\"{{myPlaneInfo.showFlg}}\" :style=\"myPlaneStyle\" src=\"../../static/planeGame/plane.png\" alt=\"\" />\r\n\t\t<view v-for=\"item in planeList\" :key=\"key\">\r\n\t\t\t<image style=\"\"\r\n\t\t\t\tsrc=\"../../static/planeGame/enemy.png\"></image>\r\n\t\t</view>\r\n\t\t<view v-for=\"item in bulletList\" :key=\"key\">\r\n\t\t\t<image style=\"position: absolute; top:{{item.top}}px;left:{{item.left}}px;width: 6px;height: 22px;\"\r\n\t\t\t\tsrc=\"../../static/planeGame/bullet.png\"></image>\r\n\t\t</view>\r\n\t\t<view v-for=\"item in boomList\" :key=\"key\">\r\n\t\t\t<image v-show=\"{{item.type == 1}}\"\r\n\t\t\t\tstyle=\"position: absolute; top:{{item.top}}px;left:{{item.left}}px;width: 23px;height: 30px;\"\r\n\t\t\t\tsrc=\"../../images/airplaneGame/boom1.png\"></image>\r\n\t\t\t<image v-show=\"{{item.type == 2}}\"\r\n\t\t\t\tstyle=\"position: absolute; top:{{item.top}}px;left:{{item.left}}px;width: 60px;height: 36px;\"\r\n\t\t\t\tsrc=\"../../images/airplaneGame/boom2.png\"></image>\r\n\t\t</view> -->\r\n\t\t\t<view class=\"score\">\r\n\t\t\t\t{{score*10}}\r\n\t\t\t</view>\r\n\t\t\t<canvas style=\"width: 100vw; height: 100vh;\" canvas-id=\"myCanvas\" id=\"firstCanvas\" disable-scroll=\"false\"\r\n\t\t\t\t@touchstart=\"touchStart\" @touchmove=\"touchMove\"></canvas>\r\n\t\t\t<view v-if=\"overFlg === true\" class=\"overBoard\">\r\n\t\t\t\t<text class=\"title\">游戏结束</text>\r\n\t\t\t\t<text>最终得分：{{score*10}}</text>\r\n\t\t\t\t<button @click=\"gameAgain\">再来一次</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet canvas = null\r\n\t// git提交测试\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowFlg: 0, // 游戏界面显示 0 选择难度  1 canvas游戏界面\r\n\t\t\t\tscore: 0, // 分数\r\n\t\t\t\toverFlg: false, // 游戏结束标志\r\n\t\t\t\t// 游戏难度数据\r\n\t\t\t\tlevelAry: [{\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\ttitle: \"简单\",\r\n\t\t\t\t\t\tbulletSpeed: 100,\r\n\t\t\t\t\t\tplaneSpeed: 400\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\ttitle: \"中等\",\r\n\t\t\t\t\t\tbulletSpeed: 200,\r\n\t\t\t\t\t\tplaneSpeed: 300\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\ttitle: \"困难\",\r\n\t\t\t\t\t\tbulletSpeed: 300,\r\n\t\t\t\t\t\tplaneSpeed: 200\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\ttitle: \"地狱\",\r\n\t\t\t\t\t\tbulletSpeed: 400,\r\n\t\t\t\t\t\tplaneSpeed: 100\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 4,\r\n\t\t\t\t\t\ttitle: \"神降\",\r\n\t\t\t\t\t\tbulletSpeed: 20,\r\n\t\t\t\t\t\tplaneSpeed: 40\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 我方飞机数据\r\n\t\t\t\tmyPlaneInfo: {\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0,\r\n\t\t\t\t\tshowFlg: true\r\n\t\t\t\t},\r\n\t\t\t\t// 敌方飞机数据\r\n\t\t\t\tplaneList: [],\r\n\t\t\t\twindowWidth: 0, // 窗口宽度\r\n\t\t\t\twindowHeight: 0, // 窗口高度\r\n\t\t\t\tbulletList: [], // 子弹数据\r\n\t\t\t\tboomList: [], // 爆炸图数据\r\n\t\t\t\tgameTimer: 0, // 游戏计时器\r\n\t\t\t\tbulletTimer: 0, // 子弹生成计时器\r\n\t\t\t\tplaneTimer: 0, // 敌方飞机生成计时器\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady() {\r\n\r\n\r\n\t\t\tcanvas = uni.createCanvasContext(\"myCanvas\", this)\r\n\t\t\tlet _this = this\r\n\t\t\tuni.getSystemInfo({\r\n\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// canvas.beginPath()\r\n\t\t\t\t\t_this.myPlaneInfo.x = res.windowWidth / 2 - 30\r\n\t\t\t\t\t_this.myPlaneInfo.y = res.windowHeight - 60\r\n\t\t\t\t\t_this.windowWidth = res.windowWidth\r\n\t\t\t\t\t_this.windowHeight = res.windowHeight\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 设置游戏难度\r\n\t\t\tsetDifficulty(bulletSpeed, planeSpeed) {\r\n\t\t\t\tthis.showFlg = 1\r\n\t\t\t\tthis.gameTimer = setInterval(() => {\r\n\t\t\t\t\tthis.gameBegin()\r\n\t\t\t\t}, 17)\r\n\t\t\t\tthis.bulletTimer = setInterval(() => {\r\n\t\t\t\t\tthis.createBullet()\r\n\t\t\t\t}, bulletSpeed)\r\n\t\t\t\tthis.planeTimer = setInterval(() => {\r\n\t\t\t\t\tthis.createPlane()\r\n\t\t\t\t}, planeSpeed)\r\n\t\t\t},\r\n\t\t\t// 触屏拖动事件\r\n\t\t\ttouchMove(e) {\r\n\t\t\t\tthis.setMyPlanePosition(e)\r\n\t\t\t},\r\n\t\t\t// 触屏开始事件\r\n\t\t\ttouchStart(e) {\r\n\t\t\t\tthis.setMyPlanePosition(e)\r\n\t\t\t},\r\n\t\t\t// 设置我方飞机的位置\r\n\t\t\tsetMyPlanePosition(e) {\r\n\t\t\t\t// 我方飞机存在的时候才可以设置位置\r\n\t\t\t\tif (this.myPlaneInfo.showFlg) {\r\n\r\n\t\t\t\t\tthis.myPlaneInfo.x = (e.touches[0].x || e.touches[0].pageX) - 30\r\n\t\t\t\t\tthis.myPlaneInfo.y = (e.touches[0].y || e.touches[0].pageY) - 18\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 再来一次按钮\r\n\t\t\tgameAgain() {\r\n\t\t\t\tthis.overFlg = false\r\n\t\t\t},\r\n\t\t\t// 开始游戏\r\n\t\t\tgameBegin() {\r\n\t\t\t\tif (this.myPlaneInfo.showFlg) {\r\n\t\t\t\t\tcanvas.drawImage('/static/planeGame/plane.png', this.myPlaneInfo.x, this.myPlaneInfo.y, 60, 36)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcanvas.drawImage('/static/planeGame/boom2.png', this.myPlaneInfo.x + 30, this\r\n\t\t\t\t\t\t.myPlaneInfo.y + 18, 60, 36)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.draw()\r\n\r\n\t\t\t\t// canvas.beginPath()\r\n\t\t\t\t// canvas.setFillStyle('#007AFF')\r\n\t\t\t\t// canvas.arc(this.myPlaneInfo.x, this.myPlaneInfo.y, 20, 0, 2 * Math.PI)\r\n\t\t\t\t// canvas.fill()\r\n\t\t\t\tcanvas.draw()\r\n\t\t\t},\r\n\t\t\t// 绘制图形\r\n\t\t\tdraw() {\r\n\t\t\t\t// 子弹向上移动\r\n\t\t\t\tthis.bulletList = this.bulletList.map((e) => {\r\n\t\t\t\t\tif (e.y - 12 >= 0) {\r\n\t\t\t\t\t\te.y = e.y - 12\r\n\t\t\t\t\t\treturn e\r\n\t\t\t\t\t}\r\n\t\t\t\t}).filter(e => e)\r\n\r\n\t\t\t\t// 飞机向下运动\r\n\t\t\t\tthis.planeList = this.planeList.map((e) => {\r\n\t\t\t\t\tif (e.y + e.speed <= this.windowHeight) {\r\n\t\t\t\t\t\te.y = e.y + e.speed\r\n\r\n\t\t\t\t\t\t// 判断飞机和子弹碰撞\r\n\t\t\t\t\t\tlet bulletIndex = this.bulletList.findIndex((be) => {\r\n\t\t\t\t\t\t\treturn this.crash(e, be, false)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (bulletIndex > -1) {\r\n\t\t\t\t\t\t\tthis.boomList.push({\r\n\t\t\t\t\t\t\t\tx: e.x,\r\n\t\t\t\t\t\t\t\ty: e.y,\r\n\t\t\t\t\t\t\t\ttime: 100\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.bulletList.splice(bulletIndex, 1)\r\n\t\t\t\t\t\t\tthis.score++\r\n\t\t\t\t\t\t} else if (this.crash(e, this.myPlaneInfo, true)) {\r\n\t\t\t\t\t\t\t// 判断飞机和玩家飞机碰撞\r\n\t\t\t\t\t\t\tthis.boomList.push({\r\n\t\t\t\t\t\t\t\tx: e.x,\r\n\t\t\t\t\t\t\t\ty: e.y,\r\n\t\t\t\t\t\t\t\ttime: 100\r\n\t\t\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t\t\t\tclearInterval(this.planeTimer)\r\n\t\t\t\t\t\t\tclearInterval(this.bulletTimer)\r\n\t\t\t\t\t\t\tconsole.log(this.planeList.length)\r\n\r\n\t\t\t\t\t\t\tthis.myPlaneInfo.showFlg = false\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\treturn e\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).filter(e => e)\r\n\r\n\t\t\t\t// 我方飞机死亡且敌方飞机数量为0时 停止游戏计时器  显示结算画面\r\n\t\t\t\tif (this.myPlaneInfo.showFlg == false && this.planeList.length == 0) {\r\n\t\t\t\t\tclearInterval(this.gameTimer);\r\n\r\n\t\t\t\t\tthis.overFlg = true\r\n\t\t\t\t}\r\n\t\t\t\t// 爆炸图消失\r\n\t\t\t\tthis.boomList = this.boomList.map((e) => {\r\n\t\t\t\t\tif (e.time - 10 > 0) {\r\n\t\t\t\t\t\te.time = e.time - 10\r\n\t\t\t\t\t\treturn e\r\n\t\t\t\t\t}\r\n\t\t\t\t}).filter(e => e)\r\n\r\n\t\t\t\tfor (let s of this.planeList) {\r\n\t\t\t\t\tcanvas.drawImage('/static/planeGame/enemy.png', s.x - 11.5, s.y - 15, 23, 30)\r\n\t\t\t\t}\r\n\t\t\t\tfor (let s of this.bulletList) {\r\n\t\t\t\t\tcanvas.drawImage('/static/planeGame/bullet.png', s.x - 3, s.y - 11, 6, 22)\r\n\t\t\t\t}\r\n\t\t\t\tfor (let s of this.boomList) {\r\n\t\t\t\t\tcanvas.drawImage('/static/planeGame/boom1.png', s.x - 11.5, s.y - 15, 23, 30)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 生成子弹\r\n\t\t\tcreateBullet() {\r\n\t\t\t\tthis.bulletList.push({\r\n\t\t\t\t\tx: this.myPlaneInfo.x + 30,\r\n\t\t\t\t\ty: this.myPlaneInfo.y\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 生成敌机\r\n\t\t\tcreatePlane() {\r\n\t\t\t\tthis.planeList.push({\r\n\t\t\t\t\tx: (this.windowWidth - 23) * Math.random(),\r\n\t\t\t\t\ty: -30,\r\n\t\t\t\t\tspeed: Math.random() * 3 + 2\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 碰撞判断方法\r\n\t\t\tcrash(plane, obj, myPlaneFlg) {\r\n\t\t\t\t// 我方飞机存在的时候进行判断\r\n\t\t\t\tif (this.myPlaneInfo.showFlg) {\r\n\t\t\t\t\tif (myPlaneFlg) {\r\n\t\t\t\t\t\tif (plane.x > obj.x + 60 || plane.x + 23 < obj.x || plane.y > obj.y + 36 || plane.y + 30 < obj.y) {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (plane.x > obj.x + 6 || plane.x + 23 < obj.x || plane.y > obj.y + 22 || plane.y + 30 < obj.y) {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 碰撞后执行\r\n\t\t\tcrashHandler(plane, obj, myPlaneFlg) {\r\n\r\n\t\t\t},\r\n\t\t\t// 清理定时器\r\n\t\t\tclearInterval() {\r\n\t\t\t\tclearInterval(this.gameTimer)\r\n\t\t\t\tclearInterval(this.planeTimer)\r\n\t\t\t\tclearInterval(this.bulletTimer)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tmyPlaneStyle() {\r\n\t\t\t\treturn `left: ${this.myPlaneInfo.left}px; top: ${this.myPlaneInfo.top}px`\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearInterval(this.gameTimer)\r\n\t\t\tclearInterval(this.bulletTimer)\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* pages/airplaneGame/index.wxss */\r\n\t.chooseBox {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.chooseBtn {\r\n\t\tmargin: 20px;\r\n\t\twidth: 100px;\r\n\t\theight: 30px;\r\n\t\tborder-radius: 6px;\r\n\t\tline-height: 30px;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid black;\r\n\t}\r\n\r\n\t.btn-touch {\r\n\t\t/* background: black; */\r\n\t\tbox-shadow: 0px 0px 25px 0px #000000;\r\n\t}\r\n\r\n\t.game-box {\r\n\t\tposition: relative;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.game-box image {\r\n\t\tposition: absolute;\r\n\t\twidth: 60px;\r\n\t\theight: 36px;\r\n\t}\r\n\r\n\t.game-box .scoreBoard {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\r\n\t}\r\n\r\n\t.game-box .overBoard {\r\n\t\tposition: absolute;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t\tleft: 15%;\r\n\t\ttop: 15%;\r\n\t\twidth: 70%;\r\n\t\theight: 60%;\r\n\t\tmargin: auto;\r\n\t\tborder-radius: 5px;\r\n\t\tbackground-color: black;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.game-box .overBoard .title {\r\n\t\tfont-size: 30px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.game-box .overBoard button {\r\n\t\tcolor: white;\r\n\t\tborder: 1px solid white;\r\n\t}\r\n\r\n\t.game-box .overBoard .btn-touch {\r\n\t\tbackground: white;\r\n\t\tcolor: black;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./planeGame.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./planeGame.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641379453680\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}